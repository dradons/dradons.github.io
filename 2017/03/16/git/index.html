<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>git安装 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="git安装由于我的Linux环境是Redhat6-64，在安装git过程中遇到了不少问题。
git不提供Redhat的快捷安装方式，所以按照官网的说法进行源码编译安装。
其实Redhat可以通过yum来安装git,不过版本较低时1.7，现在的git已经到了2.9，所以选择了源码安装，由于git依赖的包较多，所以首先需要替换掉原来系统自带的yum,顺便说一句为什么要替换掉，因为自带的yum是需要收费">
<meta property="og:type" content="article">
<meta property="og:title" content="git安装">
<meta property="og:url" content="http://yoursite.com/2017/03/16/git/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="git安装由于我的Linux环境是Redhat6-64，在安装git过程中遇到了不少问题。
git不提供Redhat的快捷安装方式，所以按照官网的说法进行源码编译安装。
其实Redhat可以通过yum来安装git,不过版本较低时1.7，现在的git已经到了2.9，所以选择了源码安装，由于git依赖的包较多，所以首先需要替换掉原来系统自带的yum,顺便说一句为什么要替换掉，因为自带的yum是需要收费">
<meta property="og:updated_time" content="2018-09-29T06:56:38.335Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="git安装">
<meta name="twitter:description" content="git安装由于我的Linux环境是Redhat6-64，在安装git过程中遇到了不少问题。
git不提供Redhat的快捷安装方式，所以按照官网的说法进行源码编译安装。
其实Redhat可以通过yum来安装git,不过版本较低时1.7，现在的git已经到了2.9，所以选择了源码安装，由于git依赖的包较多，所以首先需要替换掉原来系统自带的yum,顺便说一句为什么要替换掉，因为自带的yum是需要收费">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-git" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/16/git/" class="article-date">
  <time datetime="2017-03-16T09:14:19.864Z" itemprop="datePublished">2017-03-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      git安装
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="git安装"><a href="#git安装" class="headerlink" title="git安装"></a>git安装</h2><p>由于我的Linux环境是Redhat6-64，在安装git过程中遇到了不少问题。</p>
<p>git不提供Redhat的快捷安装方式，所以按照官网的说法进行源码编译安装。</p>
<p>其实Redhat可以通过yum来安装git,不过版本较低时1.7，现在的git已经到了<br>2.9，所以选择了源码安装，由于git依赖的包较多，所以首先需要替换掉原来<br>系统自带的yum,顺便说一句为什么要替换掉，因为自带的yum是需要收费的。<br>下面来采用centos的yum来替换。</p>
<p>1 以为我的系统没有注册，允许yum会报错，如下；<br>This system is not registered with RHN.RHN support will be disabled.</p>
<p>2 删掉系统自带的yum<br>rpm -qa|grep yum|xargs rpm -e –nodeps<br>rpm是Linux安装包的一种命令  </p>
<p>3 根据系统的版本到<a href="http://mirrors.163.com/centos/" target="_blank" rel="external">http://mirrors.163.com/centos/</a> 找对应系统版本号，我用的是6</p>
<p>4由于我的系统是64为的，我在此地址下载了3个RPM，<a href="http://mirrors.163.com/centos/6/os/x86_64/Packages/" target="_blank" rel="external">http://mirrors.163.com/centos/6/os/x86_64/Packages/</a><br>yum-3.2.29-73.el6.centos.noarch.rpm<br>yum-metadata-parser-1.1.2-16.el6.x86_64.rpm<br>yum-plugin-fastestmirror-1.1.30-37.el6.noarch.rpm</p>
<p>5 下载方式可通过<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wget http://mirrors.163.com/centos/6/os/x86_64/Packages/yum-3.2.29-73.el6.centos.noarch.rpm</div></pre></td></tr></table></figure></p>
<p>下载到当前文件夹</p>
<p>6然后执行安装，由于三个包是互相有依赖，所以我选择了一起安装<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rpm -ivh yum-*</div></pre></td></tr></table></figure></p>
<p>在我安装的过程有又出现了，python-urlgrabber-3.9.1-11.el6.noarch.rpm<br>包缺少的问题所以我就又在<a href="http://mirrors.163.com/centos/6/os/x86_64/Packages/下载包" target="_blank" rel="external">http://mirrors.163.com/centos/6/os/x86_64/Packages/下载包</a><br>同样通过wget方式下载到当前目录执行安装<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rpm -ivh python-urlgrabber-3.9.1-11.el6.noarch.rpm</div></pre></td></tr></table></figure></p>
<p>在解决此问题的过程中我以为是python没有安装，所以从python官网下载了源码包进行解压安装了一把，走了弯路<br>python安装过程大致为，解压包<br>‘’’ bash<br>tar xvf  Python-3.6.1rc1.tgz<br>‘’’     创建安装目录 mkdir /usr/local/python36    安装（进入到解压后的目录）./configure –prefix=/usr/local/python36<br>make   makeinstall<br>然后又改了python的指向 ln -s  /usr/local/python36/bin/python3.6 /usr/bin/python   然后就可以在命令行查看python版本了  python –version<br>安装完成后问题依然没解决（徒劳了）最终是通过上面安装rpm解决了，<br>7 呵呵，终于安上yum,安装完成后还需要配一下yum的库即资源下载源<br>a，进入存资源配置的文件夹  cd /etc/yum.repos.d<br>b，由于我的源cenos首先下载，所以不需要备份，如果更新源就需要备份了 mv ./CentOS-Base.repo ./CentOS-Base.repo.bak<br>c,使用wget下载163的源 <a href="http://mirrors.163.com/.help/centos.html" target="_blank" rel="external">http://mirrors.163.com/.help/centos.html</a>       wget <a href="http://mirrors.163.com/.help/CentOS6-Base-163.repo" target="_blank" rel="external">http://mirrors.163.com/.help/CentOS6-Base-163.repo</a><br>d，把下载下来的文件CentOS-Base-163.repo设置为默认源           mv CentOS6-Base-163.repo CentOS-Base.repo<br>e, 打开文件CentOS-Base.repo，把里面$resolver 全部替换为6（即系统版本）  我通过vi来操作的命令     :1$/$resolver/6/a<br>8 源更改后运行  yum makecache生成缓存，呵呵有报错了统默认python版本后yum不可用的问题  vi /usr/bin/yum 将文件头的1  #!/usr/bin/python替换为#!/usr/bin/python2.6<br>9 然后  yum makecache  ，到此yum算是完成了，开始安装git吧</p>
<p>10，保险起见先安装yum install curl-devel expat-devel gettext-devel \ openssl-devel zlib-devel </p>
<p>先解压  tar -zxf git-2.9.3.tar.gz<br>进入目录 cd git-2.9.3<br>新建安装目录  mkdir /usr/local/git<br>编译路径  ./configure –prefix=/usr/local/git<br>编译 make     有报错了<br>zlib.h: No such file or directory    yum install zlib-devel<br>Can’t locate ExtUtils/MakeMaker.pm  yum install perl-ExtUtils-CBuilder perl-ExtUtils-MakeMaker<br>安装  make install</p>
<p>11 安装成加入环境变量  在 /ect/profile最后加上  export PATH=/usr/local/git/bin/:$PATH<br>source /etc/profile  立即生效，git安装成功了</p>
<p>##搭建git服务器</p>
<p>1 新建一个git用户组，新建用户git把用户加到git组<br>groupadd git    useradd git -g git<br>2 在/home/git建立一个资源库<br>cd /home/git   mkdir repo.git   cd repo.git     git init –bare #生成裸仓库<br>3 给仓库授权用户<br>chown -R git:git /home/git/repo.git</p>
<p>###git客户端生成秘钥<br>ssh-keygen -t rsa -C “yangyufa@jetsen.cn”，秘钥的过程中 yes 回车 回车<br>秘钥会生成到.ssh所在的目录，原则上需要把，公钥放到服务器上，ssh连接就不需要密码了</p>
<p>秘钥放到服务器的具体哪个位置呢，放到登录用户的.ssh目录下，如果没有该目录手动创建<br>/home/git/.ssh/authorized_keys  authorized_keys中就存放了，所以连接该机器的人的公钥放在里面</p>
<p>还需要修改ssh的配置文件允许，证书登录vi /etc/ssh/sshd.config<br>RSAAuthentication yes<br>PubkeyAuthentication yes<br>AuthorizedKeysFile      .ssh/authorized_keys</p>
<p>重启一下 /etc/init.d/sshd stop  /etc/init.d/sshd start</p>
<p>###克隆库</p>
<p>1 克隆<br>git clone git@192.168.137.131:/home/git/repo.git<br>报错：git-upload-pack: command not found<br>原因git安装路径是/usr/local/git，不是默认路径<br>ln -s /usr/local/git/bin/git-upload-pack /usr/bin/git-upload-pack  </p>
<p>2 新建文件 cd repo<br>cat readme<br>3 更新索引<br>git  add reame<br>4 提交本地库<br>git commit -m “readme”<br>6 推到远程<br>git push origin master<br>报错 bash: git-receive-pack: command not found<br>ln -s /usr/local/git/bin/git-receive-pack /usr/bin/git-receive-pack</p>
<p>绕来绕去还是通过官方的文档，成功<br><a href="https://git-scm.com/book/it/v2/Git-on-the-Server-Setting-Up-the-Server" target="_blank" rel="external">https://git-scm.com/book/it/v2/Git-on-the-Server-Setting-Up-the-Server</a><br>如果我按下面的文章安装git估计问题少很多<br><a href="https://tecadmin.net/install-git-2-x-on-centos-rhel-and-fedora/#" target="_blank" rel="external">https://tecadmin.net/install-git-2-x-on-centos-rhel-and-fedora/#</a></p>
<p>#hexo<br>cp -R /d/tools/hexo/jetsen/public/* /d/tools/hexo/jetsen/.deploy/dradons<br>cd /d/tools/hexo/jetsen/.deploy/dradons<br>git add .<br>git commit -m “update”<br>git push origin master</p>
<p>cd /d/tools/hexo/jetsen<br>hexo new [layout] <title></title></p>
<p>$  git status</p>
<p>$ hexo n == hexo new<br>$ hexo g == hexo generate<br>$ hexo s == hexo server<br>$ hexo d == hexo deploy</p>
<p>git rm -r -n –cached  <em><br>git rm -r –cached </em><br>git commit -m”移除src目录下所有文件的版本控制”<br>git push origin master</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/03/16/git/" data-id="cjn1fjy3q0004g4o01zb919po" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/03/23/maven教程/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          maven教程
        
      </div>
    </a>
  
  
    <a href="/2017/03/13/java开始/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">java开始</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/09/26/interview/">interview</a>
          </li>
        
          <li>
            <a href="/2018/04/17/meituan/">meituan</a>
          </li>
        
          <li>
            <a href="/2018/04/12/zuchengyuanli/">zuchengyuanli</a>
          </li>
        
          <li>
            <a href="/2018/03/23/update-cctv-wifi/">update_cctv_wifi</a>
          </li>
        
          <li>
            <a href="/2018/03/23/apache/">apache</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>